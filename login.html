<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Login | Car Marketing</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              "brand-blue": "#0052CC",
              "brand-dark": "#091E42",
              "brand-light": "#DEEBFF",
            },
          },
        },
      };
    </script>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap");
      * {
        font-family: "Plus Jakarta Sans", sans-serif;
      }
      .glass-panel {
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(20px);
        box-shadow: 0 8px 32px rgba(0, 82, 204, 0.08),
          0 2px 8px rgba(0, 0, 0, 0.04);
        border: 1px solid rgba(255, 255, 255, 0.8);
      }
      .input-clean {
        background: linear-gradient(to bottom, #f8fafc, #f1f5f9);
        border: 1px solid #e2e8f0;
        transition: all 0.3s ease;
      }
      .input-clean:focus {
        background: white;
        border-color: #0052cc;
        box-shadow: 0 0 0 3px rgba(0, 82, 204, 0.1);
      }
      .fade-in {
        animation: fadeIn 0.6s ease-out forwards;
        opacity: 0;
      }
      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      .bg-pattern {
        background-image: radial-gradient(
            circle at 20% 50%,
            rgba(0, 82, 204, 0.08) 0%,
            transparent 50%
          ),
          radial-gradient(
            circle at 80% 80%,
            rgba(0, 82, 204, 0.05) 0%,
            transparent 40%
          ),
          radial-gradient(
            circle at 40% 20%,
            rgba(222, 235, 255, 0.8) 0%,
            transparent 40%
          );
      }
    </style>
  </head>
  <body class="bg-slate-50 bg-pattern min-h-screen flex flex-col">
    <!-- Header -->
    <header
      class="bg-white/80 backdrop-blur-md border-b border-slate-100 sticky top-0 z-50"
    >
      <div class="max-w-7xl mx-auto px-4 py-4 flex items-center justify-center">
        <div class="flex items-center gap-3">
          <img
            src="https://carmarketing.mx/wp-content/uploads/2023/10/carmarketing-blanco.jpeg"
            alt="Car Marketing Logo"
            class="h-10 md:h-12 w-auto object-contain"
          />
        </div>
      </div>
    </header>

    <!-- Main Content -->
    <main class="flex-1 flex items-center justify-center px-4 py-12">
      <div class="w-full max-w-md">
        <!-- Login Card -->
        <div
          class="glass-panel rounded-3xl p-8 md:p-10 fade-in"
          style="animation-delay: 0.1s"
        >
          <!-- Header -->
          <div class="text-center mb-8">
            <div
              class="w-16 h-16 bg-brand-light rounded-2xl flex items-center justify-center mx-auto mb-4"
            >
              <i class="fas fa-user-tie text-2xl text-brand-blue"></i>
            </div>
            <h1 class="text-2xl font-bold text-brand-dark mb-2">
              Portal de Vendedores
            </h1>
            <p class="text-slate-500 text-sm">
              Ingresa tus credenciales para acceder al cotizador
            </p>
          </div>

          <!-- Form -->
          <form id="login-form" onsubmit="handleLogin(event)" class="space-y-5">
            <!-- Email -->
            <div>
              <label
                class="block text-sm font-semibold text-slate-600 mb-2"
                for="email"
              >
                <i class="fas fa-envelope mr-2 text-brand-blue"></i>Correo
                Electrónico
              </label>
              <input
                type="email"
                id="email"
                required
                placeholder="vendedor@carmarketing.mx"
                class="input-clean w-full rounded-xl py-3 px-4 font-medium text-brand-dark focus:outline-none"
              />
            </div>

            <!-- Password -->
            <div>
              <label
                class="block text-sm font-semibold text-slate-600 mb-2"
                for="password"
              >
                <i class="fas fa-lock mr-2 text-brand-blue"></i>Contraseña
              </label>
              <div class="relative">
                <input
                  type="password"
                  id="password"
                  required
                  placeholder="••••••••"
                  class="input-clean w-full rounded-xl py-3 px-4 pr-12 font-medium text-brand-dark focus:outline-none"
                />
                <button
                  type="button"
                  onclick="togglePassword()"
                  class="absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 hover:text-brand-blue transition-colors"
                >
                  <i id="toggle-icon" class="fas fa-eye"></i>
                </button>
              </div>
            </div>

            <!-- Remember & Forgot -->
            <div class="flex items-center justify-between text-sm">
              <label class="flex items-center gap-2 cursor-pointer">
                <input
                  type="checkbox"
                  id="remember"
                  class="w-4 h-4 rounded border-slate-300 text-brand-blue focus:ring-brand-blue"
                />
                <span class="text-slate-600">Recordarme</span>
              </label>
              <a
                href="#"
                class="text-brand-blue hover:underline font-medium"
                onclick="showForgotPassword()"
                >¿Olvidaste tu contraseña?</a
              >
            </div>

            <!-- Error Message -->
            <div
              id="error-message"
              class="hidden bg-red-50 border border-red-200 text-red-600 text-sm rounded-xl p-3 flex items-center gap-2"
            >
              <i class="fas fa-exclamation-circle"></i>
              <span id="error-text">Credenciales incorrectas</span>
            </div>

            <!-- Submit Button -->
            <button
              type="submit"
              id="login-btn"
              class="w-full bg-brand-blue text-white font-bold py-4 px-6 rounded-xl shadow-lg shadow-blue-500/30 hover:shadow-blue-500/40 hover:bg-blue-600 transition-all duration-300 transform hover:-translate-y-0.5 flex justify-center items-center gap-2"
            >
              <span id="btn-text">Iniciar Sesión</span>
              <i id="btn-icon" class="fas fa-arrow-right"></i>
            </button>
          </form>
        </div>

        <!-- Footer -->
        <div class="text-center mt-6 text-sm text-slate-400">
          <p>© 2026 Car Marketing. Todos los derechos reservados.</p>
          <p class="mt-2">
            <a href="#" class="hover:text-brand-blue">Términos y Condiciones</a>
            •
            <a href="#" class="hover:text-brand-blue">Aviso de Privacidad</a>
          </p>
        </div>
      </div>
    </main>

    <!-- WhatsApp Button -->
    <!-- <a
      href="https://wa.me/5215525892843"
      target="_blank"
      class="fixed bottom-6 right-6 w-14 h-14 bg-green-500 rounded-full flex items-center justify-center text-white shadow-lg shadow-green-500/30 hover:scale-110 transition-transform z-50"
    >
      <i class="fab fa-whatsapp text-2xl"></i>
    </a> -->

    <script>
      // Toggle password visibility
      function togglePassword() {
        const passwordInput = document.getElementById("password");
        const toggleIcon = document.getElementById("toggle-icon");

        if (passwordInput.type === "password") {
          passwordInput.type = "text";
          toggleIcon.classList.remove("fa-eye");
          toggleIcon.classList.add("fa-eye-slash");
        } else {
          passwordInput.type = "password";
          toggleIcon.classList.remove("fa-eye-slash");
          toggleIcon.classList.add("fa-eye");
        }
      }

      // Handle login
      function handleLogin(event) {
        event.preventDefault();

        const email = document.getElementById("email").value;
        const password = document.getElementById("password").value;
        const loginBtn = document.getElementById("login-btn");
        const btnText = document.getElementById("btn-text");
        const btnIcon = document.getElementById("btn-icon");
        const errorMessage = document.getElementById("error-message");
        const errorText = document.getElementById("error-text");

        // Show loading state
        loginBtn.disabled = true;
        btnText.textContent = "Verificando...";
        btnIcon.classList.remove("fa-arrow-right");
        btnIcon.classList.add("fa-spinner", "fa-spin");
        errorMessage.classList.add("hidden");

        // Simulate authentication
        setTimeout(() => {
          let userRole = "";
          let userName = "";
          let redirectUrl = "dashboard.html";

          // Admin
          if (email === "admin@carmarketing.mx" && password === "admin123") {
            userRole = "admin";
            userName = "Administrador Global";
          }
          // Gerente
          else if (
            email === "gerente@carmarketing.mx" &&
            password === "gerente123"
          ) {
            userRole = "manager";
            userName = "Gerente de Tienda";
          }
          // Vendedor
          else if (
            email === "vendedor@carmarketing.mx" &&
            password === "vendedor123"
          ) {
            userRole = "vendor";
            userName = "Vendedor Estrella";
          }

          if (userRole) {
            // Success
            let userId = "user_" + Math.random().toString(36).substr(2, 9);
            if (userRole === "admin") userId = "user_admin";
            if (userRole === "manager") userId = "user_manager";
            if (userRole === "vendor") userId = "user_vendor";

            sessionStorage.setItem(
              "currentUser",
              JSON.stringify({
                email,
                role: userRole,
                name: userName,
                id: userId,
                storeId: "store_001", // Demo store ID
              })
            );

            btnText.textContent = "¡Bienvenido!";
            btnIcon.classList.remove("fa-spinner", "fa-spin");
            btnIcon.classList.add("fa-check");
            loginBtn.classList.remove("bg-brand-blue");
            loginBtn.classList.add("bg-green-500");

            setTimeout(() => {
              window.location.href = redirectUrl;
            }, 800);
          } else {
            // Error
            loginBtn.disabled = false;
            btnText.textContent = "Iniciar Sesión";
            btnIcon.classList.remove("fa-spinner", "fa-spin");
            btnIcon.classList.add("fa-arrow-right");
            loginBtn.classList.remove("bg-green-500");
            loginBtn.classList.add("bg-brand-blue");

            errorText.textContent =
              "Credenciales incorrectas. Intenta nuevamente.";
            errorMessage.classList.remove("hidden");
          }
        }, 1000);
      }

      // Demo login
      function demoLogin() {
        document.getElementById("email").value = "vendedor@carmarketing.mx";
        document.getElementById("password").value = "car2026";
        document
          .getElementById("login-form")
          .dispatchEvent(new Event("submit"));
      }

      // Show forgot password (placeholder)
      function showForgotPassword() {
        alert(
          "Por favor contacta a tu administrador para restablecer tu contraseña."
        );
      }
    </script>
  </body>
</html>
